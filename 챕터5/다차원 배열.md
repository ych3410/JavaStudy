# 다차원 배열

---

지금까지의 배열은 모두 1차원 배열이다. C언어를 배웠다면 충분히 알 수 있을 것이다. 그러나 우리는 일반적으로 1차원 배열을 많이 사용하나 다차원 배열도 많이 사용하게 된다. 자바에서도 당연하게 다차원 배열을 사용하고 그 사용법이나 왠만한 부분은 C와 거의 동일하다.

### 1. 2차원 배열의 선언과 인덱스

2차원 배열을 선언하는 방법은 1차원 배열과 같다. 그러나 []가 하나가 추가된다는 차이밖에 없다.

~~~java
int[][] scare;
int score[][];
int[][] score = new int[4][3];
~~~

코드에 나와 있는것처럼 1차원배열과 크게 다를것 없다는 것을 알것이다. 위와같이 선언한다면 가로3 세로4크기에 2차원배열이 선언 및 생성될것이다.

이를 통해 2차원 배열의 인덱스는 첫번째 대괄호부터 행(세로), 열(가로)길이라는 것을 알 수 있을 것이다. 또한 2차원 배열도 1차원배열과 같이 0번 index부터 시작된다.

### 2. 2차원 배열의 초기화

2차원 배열도 괄호 {}를 사용해서 생성과 초기화를 한다. 그러나 1차원 배열과 달리 {}로 한번더 구분해서 행별로 구분한다.

~~~java
int[][] arr = new int[3][3];
arr[0][0] = 1;
arr[1][0] = 2;
arr[0][1] = 3;
~~~

2차원 배열을 생성과 동시에 초기화.

~~~ java
int[][] arr1 = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};				//1번
int[][] arr2 = {																				//2번
  {1, 2, 3},
  {4, 5, 6},
  {7, 8, 9}
};																											//두 초기화 모두 new int[][]가 생략됨
~~~

두 초기화 방법 모두 같은 값으로 똑같이 초기화 시켰지만 1번보다 2번이 보기 편하여 2번방법으로 초기화를 주로 한다.

2차원 배열을 for문을 이용해 초기화 시키는 방법

~~~java
int[][] arr = new int[3][4];
for(int i = 0; i < 3; i++){										//배열길이를 직접 입력
  for(int j = 0; j < 4; j++){
    arr[i][j] = 1;
  }
}

for(int i = 0; i < arr.length; i++){					//배열이름.length이용
  for(int j = 0; j < arr[i].length; j++){
    arr[i][j] = 2;
  }
}
~~~

2차원 배열은 1차원과 달리 행의 길이, 열의 길이가 다르기 때문에 두 길이를 모두 표시해주어야 한다. 그렇기 때문에 arr.length만 쓰게되면 해의 길이가 나오기 때문에 arr[i].length를 사용하면 arr의 i번째 행의 열의 길이를 나타낸다는 뜻이기에 열의 길이를 나타낼수 있다.

### 3. for문과 배열

for문은 배열을 사용할때 가장 많이 사용하는 제어문이다. 우리가 흔히 C에서 쓰는 for문과 다르게 배열과 같이 쓸 때 for문의 모양이 달라질 때가 있다. 예를 들어 다음 코드는 배열의 요소를 모두 더하는 것이다.

~~~java
int[] arr = {1, 2, 3, 4, 5};
int sum = 0;
for(int index : arr){								//1번
  sum += index;
}

int[][] arr1 = {
  {1, 2, 3},
  {4, 5, 6},
  {7, 8, 9}
};
for(int[] tmp : arr1){							//2번
  for(int index : tmp){							//3번
    sum += index;
  }
}
~~~

이 코드들을 보면 의문이 생길것이다. 바로 for문의 형태이다. 위와 같은 형태의 for문을 보면 기존 형태랑 다르다. 1번의 뜻은 배열의 index의 요소들을 순서대로 index변수에 담어 sum에 더해준다는 뜻이 된다. 2번 같은경우 2차원 배열이기 때문에 각 행의 첫번째의 주소를 가져오고 3번은 그 가져온 주소배열에서 순서대로 index변수에 요소를 받아와 sum에 더하는 것이다.

### 4. 가변배열

가변 배열이란 말그대로 각행의 배열크기가 변하는 혹은 다른 배열을 뜻한다. 2차원 이상의 배열을 보면 알 수 있듯 각 행에 배열을 생성하는 배열의 배열의 형태라는 것을 이용해 각 행마다 크기가 다른 배열을 생성하는 것이다. 예를 들어

~~~java
int[][] arr1 = new int[3][4];					//1번 : 행의 길이는 3 열의 길이는 4인 배열
int[][] arr2 = new int[3][];					//2번 : 행의 길이는 3 열의 길이를 정해주지 않음
arr2[0] = new int[3];									//행별로 길이가 다른 배열선언
arr2[1] = new int[2];
arr2[2] = new int[5];
~~~

위코드에서 알 수 있듯 1번 2차원 배열은 열의 길이가 모두 같은 2차원 배열 2번 배열은 열의 길이가 행별로 다 다른 가변 배열인 것이다.

가변배열은 위와같이 일일이 정해주지 않고 다음과 같이도 나타낼 수 있다.

~~~java
int[][] arr = {
  {1, 2, 3, 4},
  {1, 2},
  {3, 4, 5}
};
~~~

위 코드와 같이 초기화시에 열의 길이를 다르게 해서 초기화하면 간단하게 가변배열을 생성할 수 있게된다.

---

